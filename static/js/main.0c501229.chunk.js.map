{"version":3,"sources":["components/Admin.js","components/Button.js","components/Controls.js","components/data.js","components/ProgressBar.js","components/Countdown.js","components/Footer.js","components/Header.js","components/SectionList.js","components/socket.js","components/App.js","index.js"],"names":["Admin","props","useState","isOpen","setIsOpen","className","onClick","prev","icon","faAngleUp","faAngleDown","name","type","checked","control","onChange","controlHandler","connection","faQuestionCircle","Button","id","text","Controls","tag","playText","faPlay","stopText","faPause","isPlaying","btnHandler","data","cycle","duration","section","ProgressBar","style","width","percent","Countdown","isSolo","curSection","Math","trunc","timer","Footer","href","target","faGithub","Header","faStopwatch","SectionList","sections","map","classes","data-id","faStop","socket","io","App","setIsPlaying","setTimer","setPercent","setCurSection","Date","startTime","setStartTime","setControl","setConnection","setIsSolo","startSection","server","stop","handleInput","event","btnSection","classList","contains","dataset","emit","updateTimer","length","elapsed","countdown","tempTime","setTime","getTime","useEffect","on","res","interval","setInterval","clearInterval","solo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c501229.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faQuestionCircle, faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Admin = (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"admin\">\r\n      <header>\r\n        <button className=\"admin-toggle-btn\" onClick={() => setIsOpen(prev => !prev)}>\r\n          <span>Admin</span>\r\n\r\n          {\r\n            isOpen ? \r\n            <FontAwesomeIcon icon={faAngleUp} />\r\n            :\r\n            <FontAwesomeIcon icon={faAngleDown} />\r\n          }\r\n        </button>\r\n      </header>\r\n      {\r\n        isOpen &&\r\n        <div>\r\n          <label>\r\n            <input \r\n              name=\"client-control\" \r\n              type=\"checkbox\"\r\n              checked={props.control}\r\n              onChange={props.controlHandler}  \r\n            />\r\n            Control all clients?\r\n          </label>\r\n          <p className=\"clients\">{props.connection}</p>\r\n          <p className=\"what\"><FontAwesomeIcon icon={faQuestionCircle} className=\"icon\"/>What is this?</p>\r\n          <p>Each musician should open this webpage on a device. One musician will check the box above, and when they hit \"Start\", each user's timer will begin synchronously*. You can test this by opening the app in multiple windows or on multiple devices.</p>\r\n          <p className=\"footnote\">* Within some milliseconds. The delay ultimately depends on your internet connection.</p>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Admin","import React from 'react'\r\n\r\nfunction Button(props) {\r\n  return (\r\n    <button onClick={props.onClick} id={props.id}>\r\n      {props.text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPlay, faPause } from '@fortawesome/free-solid-svg-icons'\r\nimport Button from './Button'\r\n\r\nfunction Controls(props) {\r\n  const tag = props.control === true ? \" All\" : \"\"\r\n  const playText = <><FontAwesomeIcon icon={faPlay} className=\"icon\" />&nbsp;&nbsp;&nbsp;Start {tag}</>\r\n  const stopText = <><FontAwesomeIcon icon={faPause} className=\"icon\" />&nbsp;&nbsp;&nbsp;Stop {tag}</>\r\n\r\n  return (\r\n    <div className={ props.control === true ? \"controls all\" : \"controls\"}>\r\n      <Button \r\n        text={props.isPlaying ? stopText : playText} \r\n        onClick={props.btnHandler}\r\n        id=\"local\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Controls","const data = [\r\n  {\r\n    cycle: 0,\r\n    duration: 10,\r\n    id: 0,\r\n    section: \"Countdown\",\r\n  },\r\n  {\r\n    cycle: 1,\r\n    duration: 30,\r\n    id: 1,\r\n    section: \"Ascent\",\r\n  },\r\n  {\r\n    cycle: 1,\r\n    duration: 20,\r\n    id: 2,\r\n    section: \"Soaring\",\r\n  },\r\n  {\r\n    cycle: 1,\r\n    duration: 30,\r\n    id: 3,\r\n    section: \"Descent\",\r\n  },\r\n  {\r\n    cycle: 1,\r\n    duration: 20,\r\n    id: 4,\r\n    section: \"Lament\",\r\n  },\r\n  {\r\n    cycle: 2,\r\n    duration: 20,\r\n    id: 5,\r\n    section: \"Ascent\",\r\n  },\r\n  {\r\n    cycle: 2,\r\n    duration: 15,\r\n    id: 6,\r\n    section: \"Soaring\",\r\n  },\r\n  {\r\n    cycle: 2,\r\n    duration: 20,\r\n    id: 7,\r\n    section: \"Descent\",\r\n  },\r\n  {\r\n    cycle: 2,\r\n    duration: 15,\r\n    id: 8,\r\n    section: \"Lament\",\r\n  },\r\n  {\r\n    cycle: 3,\r\n    duration: 10,\r\n    id: 9,\r\n    section: \"Ascent\",\r\n  },\r\n  {\r\n    cycle: 3,\r\n    duration: 5,\r\n    id: 10,\r\n    section: \"Soaring\",\r\n  },\r\n  {\r\n    cycle: 3,\r\n    duration: 10,\r\n    id: 11,\r\n    section: \"Descent\",\r\n  },\r\n  {\r\n    cycle: 3,\r\n    duration: 5,\r\n    id: 12,\r\n    section: \"Lament\",\r\n  },\r\n  {\r\n    cycle: 4,\r\n    duration: 5,\r\n    id: 13,\r\n    section: \"Ascent\",\r\n  },\r\n  {\r\n    cycle: 4,\r\n    duration: 2,\r\n    id: 14,\r\n    section: \"Soaring\",\r\n  },\r\n  {\r\n    cycle: 4,\r\n    duration: 5,\r\n    id: 15,\r\n    section: \"Descent\",\r\n  },\r\n  {\r\n    cycle: 4,\r\n    duration: 2,\r\n    id: 16,\r\n    section: \"Lament\",\r\n  },\r\n  {\r\n    cycle: 5,\r\n    duration: 3,\r\n    id: 17,\r\n    section: \"Ascent\",\r\n  },\r\n  {\r\n    cycle: 5,\r\n    duration: 1,\r\n    id: 18,\r\n    section: \"Soaring\",\r\n  },\r\n  {\r\n    cycle: 6,\r\n    duration: 2,\r\n    id: 19,\r\n    section: \"*Ascent*\",\r\n  },\r\n]\r\n\r\nexport default data","import React from 'react'\r\n\r\nfunction ProgressBar(props) {\r\n\r\n  return (\r\n    <div className=\"progress_container\">\r\n      <div \r\n        id=\"progress-bar\" \r\n        className=\"progress\"\r\n        style={{ width: props.percent * 100 + \"%\" }}\r\n      > \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProgressBar","import React from 'react'\r\n\r\nimport data from './data'\r\nimport ProgressBar from './ProgressBar'\r\n\r\nfunction Countdown(props) {\r\n  return (\r\n    <div className=\"countdown\">\r\n      {\r\n        props.isSolo ? \r\n          <p className=\"red\">SOLO MODE: Uncheck box at bottom for the performance.</p> :\r\n          null\r\n      }\r\n      \r\n      <p className=\"timer\">\r\n        {\r\n          data[props.curSection] ?\r\n          <>{Math.trunc(props.timer * 10) / 10} seconds</>\r\n          :\r\n          <>&nbsp;</>\r\n        }\r\n        \r\n      </p>\r\n      <ProgressBar percent={props.percent}/>\r\n      <p className=\"section-title\">\r\n        {\r\n          data[props.curSection] &&\r\n          <>\r\n            <span className=\"light\">Now:</span> <b>{data[props.curSection]?.section}&nbsp;\r\n            {data[props.curSection]?.cycle}&nbsp;\r\n            ({data[props.curSection]?.duration}\")</b>\r\n          </>\r\n        }\r\n        \r\n      </p>\r\n      <p className=\"section-next\">\r\n        {\r\n          data[props.curSection+1] &&\r\n          <>\r\n            <span className=\"light\">Next:</span> <b>{data[props.curSection+1]?.section}&nbsp;\r\n            {data[props.curSection+1]?.cycle}&nbsp;\r\n            ({data[props.curSection+1]?.duration}\")</b>\r\n          </>\r\n        }\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Countdown","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faQuestionCircle  } from '@fortawesome/free-solid-svg-icons';\r\nimport { faGithub  } from '@fortawesome/free-brands-svg-icons';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div className=\"links\">\r\n        {/* <a href=\"#\"><FontAwesomeIcon icon={faQuestionCircle} className=\"icon\" />What is this?</a> */}\r\n        <a href=\"https://github.com/aviolin/annular-fusion\" target=\"_blank\"><FontAwesomeIcon icon={faGithub} className=\"icon\" />View the source on Github</a>\r\n      </div>\r\n      <p className=\"copyright\">&copy; Arlo Adams, 2021</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStopwatch, faArrowAltCircleLeft } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"nav\">\r\n      <div className=\"logo\">\r\n        <FontAwesomeIcon icon={faStopwatch} className=\"icon\" />\r\n        Synch Timer\r\n      </div>\r\n      <div className=\"room\">\r\n        {/* <FontAwesomeIcon icon={faArrowAltCircleLeft} className=\"icon\" />\r\n        Room: 1439 */}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React from 'react'\r\nimport { faPlay, faStop } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport data from './data'\r\n\r\nconst SectionList = (props) => {\r\n  const sections = data.map(section => {\r\n    let classes = \"list-btn \"\r\n    if (props.curSection === section.id) {\r\n      classes += \"current\"\r\n    }\r\n    if (props.curSection > section.id) {\r\n      classes += \"completed\"\r\n    }\r\n    return (\r\n      <li key={section.id}>\r\n        <button \r\n          className={classes} \r\n          onClick={props.btnHandler}\r\n          data-id={section.id}\r\n        >\r\n          <div>\r\n            <span className=\"circle\"></span>\r\n            {section.section}&nbsp;\r\n            {section.cycle}&nbsp;\r\n            <span className=\"light\">({section.duration}\")</span>\r\n          </div>\r\n          {\r\n            props.curSection === section.id && props.isPlaying ?\r\n            <FontAwesomeIcon icon={faStop} />\r\n            :\r\n            <FontAwesomeIcon icon={faPlay} />\r\n          }\r\n        </button>\r\n      </li>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <div className=\"section-list\">\r\n      <ul>\r\n        { sections }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SectionList","import io from 'socket.io-client'\r\n//const ENDPOINT = 'http://127.0.0.1:4001'\r\nconst ENDPOINT = \"https://pacific-beyond-27860.herokuapp.com/\"\r\nexport const socket = io(ENDPOINT)","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nimport Admin from './Admin'\r\nimport Controls from './Controls'\r\nimport Countdown from './Countdown'\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\nimport SectionList from './SectionList'\r\nimport { socket } from './socket'\r\n\r\nimport '../styles/normalize.css'\r\nimport '../styles/main.css'\r\nimport data from './data'\r\n\r\nfunction App() {\r\n  const [isPlaying, setIsPlaying] = useState(false)\r\n  const [timer, setTimer] = useState(data[0].duration)\r\n  const [percent, setPercent] = useState(0)\r\n  const [curSection, setCurSection] = useState(-1)\r\n  const [startTime, setStartTime] = useState(new Date())\r\n  const [control, setControl] = useState(false)\r\n  const [connection, setConnection] = useState(\"Not connected to server.\")\r\n  const [isSolo, setIsSolo] = useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"Hello\", (res) => setConnection(res + \" client(s) connected to server.\"))\r\n    socket.on(\"Start\", (res) => startSection(res, true))\r\n    socket.on(\"Stop\", () => stop(true))\r\n  }, [])\r\n  \r\n  useEffect(() => {\r\n    const interval = setInterval(updateTimer, 33)\r\n    return () => {\r\n      clearInterval(interval)\r\n    }\r\n  })\r\n\r\n  function startSection(section, server=false) {\r\n    if (server) {\r\n      if (isSolo) return;\r\n    }\r\n\r\n    setTimer(data[section].duration)\r\n    setPercent(0)\r\n    setCurSection(section)\r\n    setStartTime(new Date())\r\n    setIsPlaying(true)\r\n  }\r\n\r\n  function stop(server=false) {\r\n    if (server) {\r\n      if (isSolo) return;\r\n    }\r\n\r\n    setTimer(data[0].duration)\r\n    setPercent(0)\r\n    setCurSection(-1)\r\n    setStartTime(new Date())\r\n    setIsPlaying(false)\r\n  }\r\n\r\n  function handleInput(event) {\r\n    if (event.target.type === \"checkbox\") {\r\n      if (event.target.name === \"client-control\") {\r\n        setControl(!control)\r\n      } else if (event.target.name === \"solo-control\") {\r\n        setIsSolo(!isSolo)\r\n      }\r\n      return\r\n    }\r\n\r\n    let btnSection = 0\r\n    if (event.target.classList.contains('list-btn')) {\r\n      btnSection = +event.target.dataset.id\r\n\r\n      if (btnSection === curSection && isPlaying) {\r\n        if (control) {\r\n          socket.emit(\"Stop\")\r\n          return;\r\n        }\r\n\r\n        setIsPlaying(false)\r\n        return;\r\n      }\r\n\r\n      if (control) {\r\n        socket.emit(\"Start\", btnSection)\r\n        return\r\n      }\r\n\r\n      startSection(btnSection)\r\n      return\r\n    }\r\n\r\n    if (control) {\r\n      isPlaying ? socket.emit(\"Stop\") \r\n                : socket.emit(\"Start\", btnSection)\r\n      return\r\n    }\r\n\r\n    isPlaying ? setIsPlaying(false)\r\n              : startSection(btnSection)\r\n  }\r\n\r\n  function updateTimer() {\r\n    if (!isPlaying || curSection >= data.length) {\r\n      stop()\r\n      return;\r\n    }\r\n\r\n    const now = new Date()\r\n    const elapsed = now - startTime\r\n    let countdown = data[curSection].duration - (elapsed/1000)\r\n    \r\n    if (countdown <= 0) {\r\n      setCurSection(curSection + 1)\r\n      let tempTime = startTime\r\n      tempTime.setTime(tempTime.getTime() + (data[curSection].duration * 1000))\r\n      setStartTime(tempTime)\r\n      countdown += data[curSection].duration\r\n    }\r\n\r\n    setPercent(elapsed / (data[curSection].duration * 1000))\r\n    setTimer(countdown)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <h1>Annular Fusion</h1>\r\n      <Countdown \r\n        isPlaying={isPlaying} \r\n        isSolo={isSolo}\r\n        curSection={curSection}\r\n        timer={timer}\r\n        percent={percent}\r\n      />\r\n      <Controls \r\n        isPlaying={isPlaying} \r\n        btnHandler={handleInput} \r\n        control={control}\r\n      />\r\n      <SectionList \r\n        btnHandler={handleInput}\r\n        curSection={curSection}\r\n        isPlaying={isPlaying}\r\n      />\r\n      <Admin \r\n        control={control}\r\n        solo={isSolo}\r\n        controlHandler={handleInput}\r\n        connection={connection} \r\n      />\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}